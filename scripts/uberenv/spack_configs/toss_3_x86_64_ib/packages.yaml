##############################################################################
# Copyright (c) 2020, Lawrence Livermore National Security, LLC and
# RADIUSS Uberenv project contributors. See the LICENSE file for details.
#
# SPDX-License-Identifier: MIT
##############################################################################

packages::
  all:
    providers:
      blas: [netlib-lapack]
      lapack: [netlib-lapack]
      mpi: [mvapich2, openmpi]
      unwind: [libunwind]

  mpi:
    buildable: False
  mvapich2:
    buildable: False
    externals:
      - spec: mvapich2@2.2%gcc@8.1.0 arch=linux-rhel7-broadwell
        prefix: /usr/tce/packages/mvapich2/mvapich2-2.2-gcc-8.1.0
      - spec: mvapich2@2.3%gcc@8.1.0 arch=linux-rhel7-broadwell
        prefix: /usr/tce/packages/mvapich2/mvapich2-2.3-gcc-8.1.0
  openmpi:
    buildable: False
    externals:
      - spec: openmpi@2.0.0%gcc@8.1.0 arch=linux-rhel7-broadwell
        prefix: /usr/tce/packages/openmpi/openmpi-2.0.0-gcc-8.1.0
      - spec: openmpi@2.1.0%gcc@8.1.0 arch=linux-rhel7-broadwell
        prefix: /usr/tce/packages/openmpi/openmpi-2.1.0-gcc-8.1.0
      - spec: openmpi@3.0.1%gcc@8.1.0 arch=linux-rhel7-broadwell
        perfix: /usr/tce/packages/openmpi/openmpi-3.0.1-gcc-8.1.0

  apple-libunwind:
    buildable: False

  cmake:
    version: [3.14.5]
    externals:
      - spec: cmake@3.14.5
      - prefix: /usr/tce/packages/cmake/cmake-3.14.5
    buildable: False

  netlib-lapack:
    externals:
      - spec: netlib-lapack@3.6.1
      - prefix: /usr
    buildable: False

# System level packages to not build
  autoconf:
    externals:
      - spec: autoconf
      - prefix: /usr
    buildable: False

  automake:
    externals:
      - spec: automake
      - prefix: /usr
    buildable: False

  bzip2:
    externals:
      - spec: bzip2
      - prefix: /usr
    buildable: False

  gettext:
    externals:
      - spec: gettext
      - prefix: /usr
    buildable: False

  libiconv:
    externals:
      - spec: libiconv
      - prefix: /usr
    buildable: False

  libtool:
    externals:
      - spec: libtool
      - prefix: /usr
    buildable: False

  m4:
    externals:
      - spec: m4
      - prefix: /usr
    buildable: False

  perl:
    externals:
      - spec: perl
      - prefix: /usr
    buildable: False

  pkg-config:
    externals:
      - spec: pkg-config
      - prefix: /usr
    buildable: False

  tar:
    externals:
      - spec: tar
      - prefix: /usr
    paths:
      tar: /usr
    buildable: False

  graphviz:
    externals:
      - spec: graphviz
      - prefix: /usr
    buildable: False



